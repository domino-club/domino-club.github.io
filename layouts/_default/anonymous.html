{{ define "main" }}
<style>
  :root {
    --light: #f2f2f2;
    --dark: #0c0c0c;
    --emph: #44f9f6;
  }
  
  label[for="message"] {
    display: flex;
    justify-content: space-between;
  }
  
  body, main, form {
    display: flex;
    flex-direction: column;
    align-content: center;
    gap: 1rem;
  }
  
  main {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
  }
  
  form {
    width: 600px;
  }

  textarea {
    flex: 1;
    min-height: 5rem;
  }
  
  button,
  input, textarea {
    background: inherit;
    color: inherit;
    
    font-family: inherit;
    font-size: inherit;
    border: 1px dotted var(--light);
    box-sizing: border-box;
  }
  
  button {
    padding: 0.5rem 1rem;
    background: var(--light);
    color: var(--dark);
    border-radius: .5em;
    
    align-self: center;
    cursor: pointer;
  }
  
  button:active {
    filter: invert();
  }
  
  /* Instructions */
  .instructions {
    margin: 1rem auto 0;
  }
  
  h2, label {
    margin: 0;
    color: #44f9f6;
  }  
</style>
<main>
  <h1 class="title">ANONYMOUS MESSAGING</h1>
  <form class="message-form" method="post" action="https://tinybird.zone/anonymous">
    <label for="token">PASSWORD</label>
    <input type="password" name="token">
    <label for="message">
      MESSAGE
      <select id="template-select">
        <option>MESSAGE TEMPLATE</option>
        <option value="I THINK [GAME] HAS BUG [DETAILS]">BUG FOUND</option>
        <option value="I WILL FIX [GAME] BUG [DETAILS]">BUG FIXING</option>
        <option value="I FIXED [GAME] BUG [DETAILS]">BUG FIXED</option>
        <option value="I WILL BE SUBMITTING LATE (FAO ORGANISERS)">LATE SUBMISSION</option>
        <option value="[GAME] HAS JUST RELEASED LATE ([URL])">LATE RELEASE</option>
        <option value="I NEED HELP WITH [FIELD] (PLEASE OFFER PUBLICLY IN #domino-club)">HELP REQUEST</option>
        <option value="I AM LOOKING FOR A COLLABORATOR TO [TASK] (PLEASE OFFER PUBLICLY IN #domino-club)">COLLAB REQUEST</option>
        <option value="I WOULD LIKE A SERIOUS DISCUSSION ON [TOPIC] (CANDLE WILL ORGANISE)">DISCUSSION REQUEST</option>
        <option value="[GAME] AUTHOR ASKS THAT YOU PLEASE BE MORE [FORGIVING/SERIOUS/RESPECTFUL/ETC] ABOUT [ASPECT]">CARE REQUEST</option>
      </select>
    </label>
    <textarea id="message" name="message" required="required"></textarea>
    <button type="submit">POST TO DISCORD</button>
  </form>

  <section class="instructions">
    <h2>
      READ BEFORE USING THIS
    </h2>
    <p>
      This is <strong>not</strong> for jokes, misdirection, or any other ironic usage. If use this system in 
      bad faith, you will make your friends uncomfortable.
    </p>
    <p>
      This will post a message to the <strong>#domino-anonymous</strong> channel on the domino club discord. Tagging users and channels doesn't work. Custom emoji won't show.
    </p>
    <p>
      You can non-anonymously contact <strong>candle</strong> or <strong>Emma</strong> privately if you feel your sensitive issue can't be raised using this system.
    </p>
  </section>
  
</main>
<script>
  const templateSelect = document.getElementById("template-select");
  const messageInput = document.getElementById("message");
  templateSelect.addEventListener("input", () => messageInput.value = templateSelect.value);
</script>
{{ end }}